<!DOCTYPE html>
<html>
<head>
	
	<script type="text/javascript" charset="utf8" src="https://code.jquery.com/jquery-3.3.1.js" ></script>
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css"/>
	<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js"></script>
	
	<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.5.6/js/dataTables.buttons.min.js"></script>
	<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.flash.min.js"></script>
	<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.html5.min.js"></script>
	<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/buttons/1.5.6/js/buttons.print.min.js"></script>
	
	<script type="text/javascript" charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
	<script type="text/javascript" charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
	<script type="text/javascript" charset="utf8" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.9/angular.min.js"></script>

	<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"/>
	<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.12/css/dataTables.bootstrap.min.css"/>
	
	<!-- link rel="stylesheet" type="text/css" href="bitguiders-datatable.css"/>
	<script type="text/javascript" charset="utf8" src="bitguiders-datatable.js"></script-->
	<script>
	$('#dTable').DataTable( {
     autoFill: false,
     stateSave:true
	} );
	</script>
</head>

<body>
<div class="container" ng-app="myApp" ng-controller="customersCtrl"> 
<br>
<button id="delete">Delete</button>
<button id="addNew">Create New</button>
<br><br>

<table id="dTable" class="display">
	<thead>
	 	<tr><th>Sr.No</th><th>Title</th><th>@Action</th></tr>
	</thead>
	
	<tbody>
		<tr ng-repeat="x in myData">
			<td>{{ x.Name }}</td>
			<td>
			  <input id="{{ x.Name }}" type="text" value="{{x.Country}}" onchange="update(this.id,this.value)" class="InlineInput">
				<span id="span-{{ x.Name }}" style="display:none">{{x.Country}}</span>
			</td>
			<td></td>
		</tr>
	</tbody>
</table>

<span id="status"></span>
</div>

<script>
$(document).ready( function () {
   var table = $('#dTable').DataTable( {
        dom: 'Bfrtip',
        buttons: [
            'copy', 'csv', 'excel', 'pdf', 'print'
        ]
    } );
    
    $('table.dataTable td input').click(function() {
        var html = $(this).html();
         var id = this.id;
        var value = this.value;
    	$('#status').html('hit received-'+this.id+" - "+value); 
    	
    	//$('#dTable').DataTable().search( 'Horn' ).draw();
    });
    
    $('#dTable tbody').on( 'click', 'tr', function () {
        if ( $(this).hasClass('selected') ) {
            $(this).removeClass('selected');
        }
        else {
            table.$('tr.selected').removeClass('selected');
            $(this).addClass('selected');
        }
    } );
 
    //delete selected row
    $('#delete').click( function () {
        table.row('.selected').remove().draw( false );
    } );
    
    //add new row
     $('#addNew').click( function () {
       var inputText ='<input id="New Row" type="text" value="Temp Value" onchange="update(this.id,this.value)" class="InlineInput">';
        var newRow = ['New Row',inputText,''];
        table.row.add(newRow).draw( false );
        $('#dTable').DataTable().search( 'New Row' ).draw();
        // row('.selected').remove().draw( false );
    } );
    
    
} );
</script>

<script>
var app = angular.module('myApp', []);
app.controller('customersCtrl', function($scope, $http) {
	var url = "https://www.w3schools.com/angular/customers.php";
  $http.get(url).then(function(response) {
     var tempData = response.data.records;
    localStorage.setItem('data', JSON.stringify(tempData));
    //$scope.myData = response.data.records;
  });
  $scope.myData = JSON.parse(localStorage.getItem('data'));
});
</script>
</body>
</html>